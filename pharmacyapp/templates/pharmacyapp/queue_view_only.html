{% extends 'pharmacyapp/base.html' %}
{% block body_block %}
<div class="row">
    <div class="col-md-12">
        <h2>Patient Queue</h2>

        <h4>Current Queue</h4>
        {% if current_queue %}
            <ul class="list-group mb-4">
                {% for entry in current_queue %}
                    <li class="list-group-item">
                        {{ forloop.counter }}. {{ entry.patient.patientName }}
                    </li>
                {% endfor %}
            </ul>
        {% else %}
            <p>No patients in current queue.</p>
        {% endif %}

        <h4>Follow-up Queue</h4>
        {% if followup_queue %}
            <ul class="list-group mb-4">
                {% for entry in followup_queue %}
                    <li class="list-group-item">
                        {{ forloop.counter }}. {{ entry.patient.patientName }}
                    </li>
                {% endfor %}
            </ul>
        {% else %}
            <p>No patients in follow-up queue.</p>
        {% endif %}

        <h4>Served Patients</h4>
        {% if served_patients %}
            <ul class="list-group">
                {% for entry in served_patients %}
                    <li class="list-group-item">
                        {{ entry.patient.patientName }} â€” Served at {{ entry.served_at|date:"SHORT_DATETIME_FORMAT" }}
                    </li>
                {% endfor %}
            </ul>
        {% else %}
            <p>No patients have been served yet.</p>
        {% endif %}
    </div>
</div>
{% endblock %}
